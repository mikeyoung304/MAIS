{
  "description": "Example Stripe Connect Checkout Session Payload",
  "scenario": {
    "tenant": {
      "id": "tenant_abc123",
      "slug": "bellaweddings",
      "name": "Bella Weddings",
      "stripeAccountId": "acct_1234567890ABCDEF",
      "stripeOnboarded": true,
      "commissionPercent": 12.0
    },
    "booking": {
      "packageId": "intimate-ceremony",
      "packagePrice": 120000,
      "addOns": [
        {
          "id": "addon_photography",
          "price": 30000
        }
      ],
      "subtotal": 150000,
      "commissionAmount": 18000,
      "commissionPercent": 12.0,
      "tenantReceives": 132000
    }
  },
  "stripeConnectSessionPayload": {
    "mode": "payment",
    "payment_method_types": ["card"],
    "customer_email": "couple@example.com",
    "line_items": [
      {
        "price_data": {
          "currency": "usd",
          "unit_amount": 150000,
          "product_data": {
            "name": "Wedding Package",
            "description": "Elopement/Micro-Wedding Package"
          }
        },
        "quantity": 1
      }
    ],
    "payment_intent_data": {
      "application_fee_amount": 18000,
      "transfer_data": {
        "destination": "acct_1234567890ABCDEF"
      }
    },
    "success_url": "https://example.com/success?session_id={CHECKOUT_SESSION_ID}",
    "cancel_url": "https://example.com/cancel",
    "metadata": {
      "tenantId": "tenant_abc123",
      "packageId": "pkg_intimate_ceremony",
      "eventDate": "2025-06-15",
      "email": "couple@example.com",
      "coupleName": "Jane & John",
      "addOnIds": "[\"addon_photography\"]",
      "commissionAmount": "18000",
      "commissionPercent": "12.0"
    }
  },
  "paymentFlow": {
    "step1": {
      "description": "Customer completes Stripe Checkout",
      "customerPays": "$1,500.00"
    },
    "step2": {
      "description": "Stripe processes payment and splits funds",
      "platformFee": "$180.00 (12%)",
      "tenantReceives": "$1,320.00"
    },
    "step3": {
      "description": "Funds are deposited",
      "platformAccount": "$180.00 held by Stripe as application fee",
      "tenantAccount": "$1,320.00 deposited to acct_1234567890ABCDEF"
    },
    "step4": {
      "description": "Webhook confirms payment",
      "webhookEvent": "checkout.session.completed",
      "bookingCreated": {
        "id": "booking_xyz",
        "status": "PAID",
        "totalCents": 150000,
        "commissionAmount": 18000,
        "commissionPercent": 12.0
      }
    }
  },
  "validationRules": {
    "minimumFee": "0.5% of transaction ($7.50 for $1,500)",
    "maximumFee": "50% of transaction ($750.00 for $1,500)",
    "actualFee": "12% of transaction ($180.00 for $1,500)",
    "valid": true
  },
  "stripeApiCall": {
    "method": "POST",
    "endpoint": "https://api.stripe.com/v1/checkout/sessions",
    "authentication": "Bearer sk_test_YOUR_SECRET_KEY",
    "note": "Created using platform's Stripe account, not tenant's account"
  },
  "responseExample": {
    "id": "cs_test_a1b2c3d4e5f6g7h8i9j0",
    "object": "checkout.session",
    "url": "https://checkout.stripe.com/c/pay/cs_test_a1b2c3d4e5f6g7h8i9j0#fidkdWxOYHwnPyd1blpxYHZxWjA0T0JuN1d...",
    "customer_email": "couple@example.com",
    "mode": "payment",
    "payment_intent": "pi_1234567890abcdef",
    "payment_status": "unpaid",
    "status": "open",
    "amount_total": 150000,
    "currency": "usd"
  }
}
